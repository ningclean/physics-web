# 光学透镜成像演示需求 (Optics Lens Imaging Requirements)

## 1. 目标
创建一个交互式的几何光学场景，演示凸透镜和凹透镜的成像规律。通过可视化光线路径，帮助用户理解物距、像距和焦距之间的关系。

## 2. 核心功能

### 2.1 光学元件
- **透镜**: 支持凸透镜 (Convex) 和凹透镜 (Concave)。
- **物体**: 一个垂直于主光轴的箭头，代表物体。
- **像**: 根据透镜公式自动计算并绘制成的像。

### 2.2 交互参数
- **焦距 (f)**: 可调节。正值为凸透镜，负值为凹透镜。
- **物距 (do)**: 可调节。物体到透镜中心的距离。
- **物高 (ho)**: 可调节。物体的高度。

### 2.3 视觉展示
- **主光轴**: 水平中心线。
- **焦点 (F)**: 在主光轴上标记出两侧的焦点。
- **三条特殊光线**:
    1.  **平行光线**: 平行于主光轴入射，折射后过焦点（或反向延长线过焦点）。
    2.  **过心光线**: 穿过透镜光心，传播方向不变。
    3.  **过焦光线**: 过焦点（或延长线过焦点）入射，折射后平行于主光轴。
- **虚实区分**: 实像/实光线用实线表示，虚像/反向延长线用虚线表示。

## 3. 物理公式
- **透镜成像公式**:
  $$ \frac{1}{f} = \frac{1}{d_o} + \frac{1}{d_i} $$
  其中：
  - $f$: 焦距 (凸透镜 $>0$, 凹透镜 $<0$)
  - $d_o$: 物距 (通常 $>0$)
  - $d_i$: 像距 (实像 $>0$, 虚像 $<0$)

- **放大率公式**:
  $$ M = -\frac{d_i}{d_o} = \frac{h_i}{h_o} $$
  其中：
  - $h_i$: 像高
  - $h_o$: 物高

## 4. 技术实现
- **坐标系**: 透镜光心为原点 $(0,0)$。
- **渲染**: 使用 Canvas API 绘制线条和箭头。
- **虚像处理**: 当 $d_i < 0$ 时，像在物体同侧，为虚像，绘制虚线。
